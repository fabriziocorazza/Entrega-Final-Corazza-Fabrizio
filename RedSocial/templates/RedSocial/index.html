{% extends "RedSocial/base.html" %}

{% block main %}
<main>
  {% if not posts %}
    <h2>Actualmente no se encuentran posteos</h2>
  {% endif %}
  <div id="myCarousel" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-inner">

        {% for post in posts %}
          {% if forloop.first %}
            <div class="carousel-item active">
          {% else %} 
            <div class="carousel-item">
          {% endif %}
              {% if post.imagen %}
                <img src="{{post.imagen.url}}">
              {% endif %}
              <div class="container">
                <div class="carousel-caption text-start">
                  <h1>{{post.Nombre_de_la_serie}}</h1>
                  <p>{{post.Platamormas}}</p>
                  <p><a class="btn btn-lg btn-primary" href="{% url 'post-detail' post.id %}">Ver Descripcion</a></p>
                </div>
              </div>
            </div>
          
        {% endfor %}

    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#myCarousel" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#myCarousel" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>


  <!-- Marketing messaging and featurettes
  ================================================== -->
  <!-- Wrap the rest of the page in another container to center all the content. -->

  <div class="container marketing">

    <!-- Three columns of text below the carousel -->
    <div class="row">
      
      {% for post in posts %}  
        <div class="col-lg-4">
          {% if post.imagen %}
            <img src="{{post.imagen.url}}" height="144" width="144">  
          {% endif %}
          <h2>{{post.Nombre_de_la_serie}}</h2>
          <p>Se encuentra en: {{post.Platamormas}} </p>
          <h5>Posteo hecho por: {{post.publisher.username}}</h5>
          <p><a class="btn btn-secondary" href="{% url 'post-detail' post.id %}">Ver Descripcion</a></p>
        </div><!-- /.col-lg-4 -->
      {% endfor %}

    </div>
   
    <!-- /END THE FEATURETTES -->INDEX.

  </div><!-- /.container -->


  <!-- FOOTER -->
  <footer class="container">
    <p class="float-end"><a href="{% url 'index' %}">Volver arriba</a></p>
    <p>© 2017–2021 Company, Inc. · <a href="https://getbootstrap.com/docs/5.0/examples/carousel/#">Privacy</a> · <a href="https://getbootstrap.com/docs/5.0/examples/carousel/#">Terms</a></p>
  </footer>
</main>
{% endblock %}